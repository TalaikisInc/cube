worker_processes 1;

events { worker_connections 1024; }

http {
    server_tokens off;
    # access_log /var/log/nginx/access.log compression buffer=32k;

    client_body_buffer_size     10K;
    client_header_buffer_size   1k;
    client_max_body_size        300k;
    large_client_header_buffers 2 1k;
    client_body_timeout         12;
    client_header_timeout       12;
    keepalive_timeout           5;
    send_timeout                10;

    upstream identiform {
        server 127.0.0.1:3000 fail_timeout=0;
    }

    upstream mail {
        server 127.0.0.1:3001 fail_timeout=0;
    }

    upstream blueblood {
        server 127.0.0.1:3002 fail_timeout=0;
    }

    upstream sales {
        server 127.0.0.1:3003 fail_timeout=0;
    }

    upstream ipfs {
        server 127.0.0.1:3004 fail_timeout=0;
    }

    upstream act {
        server 127.0.0.1:3005 fail_timeout=0;
    }

    upstream nakamoto {
        server 127.0.0.1:3006 fail_timeout=0;
    }

    upstream talaikis {
        server 127.0.0.1:3007 fail_timeout=0;
    }

    upstream cubed_demo {
        server 127.0.0.1:3008 fail_timeout=0;
    }

    upstream estateManagement {
        server 127.0.0.1:3009 fail_timeout=0;
    }

    upstream upload {
        server 127.0.0.1:3010 fail_timeout=0;
    }

    server {
        listen 80;
        listen [::]:80;

        server_name images.ufunc.com;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name blockchain.talaikis.com;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name estateexperts.co.uk;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name www.estateexperts.co.uk;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name mail.talaikis.com;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name blueblood.talaikis.com;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name sales.talaikis.com;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name ipfs.talaikis.com;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name act.talaikis.com;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name nakamotowallet.org;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name www.nakamotowallet.org;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name talaikis.com;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name www.talaikis.com;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name upload.talaikis.com;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 80;
        listen [::]:80;

        server_name cubed.talaikis.com;

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }

        location / {
            return 301 https://$server_name$request_uri;
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name blockchain.talaikis.com;

        ssl_certificate /root/.acme.sh/blockchain.talaikis.com/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/blockchain.talaikis.com/blockchain.talaikis.com.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            # proxy_cache_min_uses 3;
            # proxy_cache_revalidate on;
            # proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;
            # proxy_cache_background_update on;
            # proxy_cache_lock on;
            proxy_pass http://identiform;
            proxy_http_version 1.1;
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name estateexperts.co.uk;

        ssl_certificate /root/.acme.sh/estateexperts.co.uk/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/estateexperts.co.uk/estateexperts.co.uk.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_cache_min_uses 3;
            proxy_cache_revalidate on;
            proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;
            proxy_cache_background_update on;
            proxy_cache_lock on;
            proxy_pass http://estateManagement;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name www.estateexperts.co.uk;

        ssl_certificate /root/.acme.sh/www.estateexperts.co.uk/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/www.estateexperts.co.uk/www.estateexperts.co.uk.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_cache_min_uses 3;
            proxy_cache_revalidate on;
            proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;
            proxy_cache_background_update on;
            proxy_cache_lock on;
            proxy_pass http://estateManagement;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name ipfs.talaikis.com;

        ssl_certificate /root/.acme.sh/ipfs.talaikis.com/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/ipfs.talaikis.com/ipfs.talaikis.com.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_cache_min_uses 3;
            proxy_cache_revalidate on;
            proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;
            proxy_cache_background_update on;
            proxy_cache_lock on;
            proxy_pass http://ipfs;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name act.talaikis.com;

        ssl_certificate /root/.acme.sh/act.talaikis.com/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/act.talaikis.com/act.talaikis.com.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_cache_min_uses 3;
            proxy_cache_revalidate on;
            proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;
            proxy_cache_background_update on;
            proxy_cache_lock on;
            proxy_pass http://act;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name sales.talaikis.com;

        ssl_certificate /root/.acme.sh/sales.talaikis.com/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/sales.talaikis.com/sales.talaikis.com.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_cache_min_uses 3;
            proxy_cache_revalidate on;
            proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;
            proxy_cache_background_update on;
            proxy_cache_lock on;
            proxy_pass http://sales;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_set_header Connection "upgrade";
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name talaikis.com;

        ssl_certificate /root/.acme.sh/talaikis.com/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/talaikis.com/talaikis.com.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_cache_min_uses 3;
            proxy_cache_revalidate on;
            proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;
            proxy_cache_background_update on;
            proxy_cache_lock on;
            proxy_pass http://talaikis;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_cache_bypass $http_upgrade;
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
            # include /etc/nginx/bots.d/ddos.conf;
            # include /etc/nginx/bots.d/blockbots.conf;
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name www.talaikis.com;

        ssl_certificate /root/.acme.sh/www.talaikis.com/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/www.talaikis.com/www.talaikis.com.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_cache_min_uses 3;
            proxy_cache_revalidate on;
            proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;
            proxy_cache_background_update on;
            proxy_cache_lock on;
            proxy_pass http://talaikis;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name nakamotowallet.org;

        ssl_certificate /root/.acme.sh/nakamotowallet.org/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/nakamotowallet.org/nakamotowallet.org.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_cache_min_uses 3;
            proxy_cache_revalidate on;
            proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;
            proxy_cache_background_update on;
            proxy_cache_lock on;
            proxy_pass http://nakamoto;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name www.nakamotowallet.org;

        ssl_certificate /root/.acme.sh/www.nakamotowallet.org/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/www.nakamotowallet.org/www.nakamotowallet.org.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_cache_min_uses 3;
            proxy_cache_revalidate on;
            proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;
            proxy_cache_background_update on;
            proxy_cache_lock on;
            proxy_pass http://nakamoto;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name mail.talaikis.com;

        ssl_certificate /root/.acme.sh/mail.talaikis.com/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/mail.talaikis.com/mail.talaikis.com.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_pass http://mail;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name blueblood.talaikis.com;

        ssl_certificate /root/.acme.sh/blueblood.talaikis.com/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/blueblood.talaikis.com/blueblood.talaikis.com.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_cache_min_uses 3;
            proxy_cache_revalidate on;
            proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;
            proxy_cache_background_update on;
            proxy_cache_lock on;
            proxy_pass http://blueblood;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name upload.talaikis.com;

        ssl_certificate /root/.acme.sh/upload.talaikis.com/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/upload.talaikis.com/upload.talaikis.com.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_pass http://upload;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name cubed.talaikis.com;

        ssl_certificate /root/.acme.sh/cubed.talaikis.com/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/cubed.talaikis.com/cubed.talaikis.com.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            proxy_pass http://cubed_demo;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Referer $http_referer;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Connection "upgrade";
            proxy_set_header X-Frame-Options "SAMEORIGIN";
            proxy_set_header X-Content-Type-Options "nosniff";
            proxy_set_header X-XSS-Protection "1; mode=block";
            # proxy_set_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ssl.google-analytics.com; img-src 'self' https://ssl.google-analytics.com https://s-static.ak.facebook.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://themes.googleusercontent.com; frame-src https://www.facebook.com https://s-static.ak.facebook.com; object-src 'none'";
            proxy_set_header X-Download-Options noopen;
            proxy_set_header Referrer-Policy no-referrer;
            proxy_cache_bypass $http_upgrade;
            add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }

    server {
        listen 443 ssl http2;
        listen [::]:443 ssl http2;

        server_name images.ufunc.com;

        ssl_certificate /root/.acme.sh/images.ufunc.com/fullchain.cer;
        ssl_certificate_key /root/.acme.sh/images.ufunc.com/images.ufunc.com.key;

        ssl_session_cache shared:SSL:50m;
        ssl_session_timeout 1d;
        ssl_session_tickets off;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH RSA+AESGCM RSA+AES !RC4 !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS";
        ssl_prefer_server_ciphers on;
        ssl_dhparam /etc/ssl/private/dhparam.pem;

        location / {
            alias /opt/megashop/.data/images/;
            sendfile on;
            tcp_nopush on;
            sendfile_max_chunk 1m;
            tcp_nodelay       on;

            # index index.html;
            autoindex on;
            expires 1M;
            access_log off;
            error_log     /opt/megashop/.data/nginx.log;
            add_header Cache-Control "public";
            valid_referers  none  blocked  server_names  ufunc.com;
            # try_files $uri /default.jpeg;

            if ($invalid_referer) {
                return 403;
            }
        }

        location ~ ^/\.well-known/acme-challenge/([-_a-zA-Z0-9]+)$ {
            default_type text/plain;
            return 200 "$1.MYacAcMhvfv0TiFJXL1oYu8e__8i5Q402eZOrVY2a-o";
        }
    }
}
